<!DOCTYPE html>
<html>
<head>
  <title>Login Page</title>
  <style>
    body {
      font-family: Arial;
      background: #f2f2f2;
      display: flex;
      height: 100vh;
      justify-content: center;
      align-items: center;
    }
    .login-container {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    input, button {
      margin-bottom: 10px;
      padding: 10px;
      width: 100%;
    }
    button {
      background-color: #4CAF50;
      color: white;
      border: none;
    }
  </style>

  <!-- ðŸ”¹ CleverTap SDK Setup -->
  <script type="text/javascript">
    var clevertap = {
      accountId: "75W-964-547Z", // Replace with your CleverTap Account ID
      region: "eu1"         // e.g., "in1", "us1", "sg1"
    };
    (function () {
      var wzrk = document.createElement('script');
      wzrk.type = 'text/javascript';
      wzrk.async = true;
      wzrk.src = 'https://d2r1yp2w7bby2u.cloudfront.net/js/clevertap.min.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(wzrk, s);
    })();
  </script>
</head>
<body>

<div class="login-container">
  <h2>Login</h2>
  <form onsubmit="return handleLogin(event)">
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />
    <button type="submit">Login</button>
    <p id="message" style="color: green;"></p>
  </form>
</div>

<!-- ðŸ”¹ Push Notification Prompt -->
<script type="text/javascript">
  function handleLogin(event) {
    event.preventDefault();
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    if (email && password) {
      document.getElementById("message").textContent = "Login Successful!";

      // Optionally, you can identify the user in CleverTap
      clevertap.onUserLogin.push({
        "Site": {
          "Email": email
        }
      });

      // Ask for Push Notification Permission
      clevertap.notifications.push({
        "titleText": "Would you like to receive Push Notifications?",
        "bodyText": "We promise to only send you relevant content and give you updates on your transactions",
        "okButtonText": "Sign me up!",
        "rejectButtonText": "No thanks",
        "okButtonColor": "#F28046",
        "askAgainTimeInSeconds": 5,
        "serviceWorkerPath": "clevertap_sw .js", // Must be accessible in your project root
        "vapidKey": "BH-2CEh29Jqfgsca8NQLT_qvGTvIFJXhW2WovBFwd5mLSusJ-cRTVjdapTd36YV3cBZKwxmd1kFYzOfV5cphNGA"     // Replace with your generated VAPID public key
      });

    } else {
      document.getElementById("message").textContent = "Please enter valid credentials.";
    }
  }
</script>

</body>
</html>
